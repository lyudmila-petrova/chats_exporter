# Выгрузка переписки пользователя

## Задача
Необходимо по коду организации и логину пользователя выгрузить всю его переписку. Выгрузка должна осуществляться в отдельный каталог с разбивкой по чатам

## Инструкция по запуску

### Шаг 0. Виртуальное окружение и установка зависимостей

```bash
$ nvm use
$ npm i
```

### Шаг 1. Конфигурация

```bash
$ cp .env.example .env
```

Переопределяем настройки окружения, если это необходимо

### Шаг 2. Запуск контейнера и импорт базы данных

Запускаем контейнер с базой данных
```bash
$ docker-compose up -d
```

Импортируем базу. Для этого в папку `docker/mongo/backup` копируем папку с файлами, которые получены ранее через `mongodump`

Подключаемся к контейнеру

```bash
$ docker-compose exec mongo bash
```

Из контейнера с mongo (подправить путь и название базы если нужно)
```
# mongorestore -d test_db_1 /backup/test_db_1/
```

### Шаг 3. Запуск приложения

```bash
$ npm start
```
или 

```bash
$ npm run start:dev
```

## [Спецификация](https://petstore.swagger.io/?url=https://raw.githubusercontent.com/lyudmila-petrova/chats_exporter/master/openapi.yaml)
